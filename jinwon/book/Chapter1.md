# 1장 마이크로서비스 소개

### * 궁금증
1. 컴포넌트 간 업그레이드에 종속적이지 않다고 했는데, 호환성 유지를 위해 API 양식이 변경되더라도, 버전 별 API를 언제까지 유지하는가?

2. 컴포넌트 간 업그레이드 및 개선 사항에 대해 대응을 하게 되면서, 물려 있는 컴포넌트들에 대해 유지 보수를 못하는 것에 대한 품질 문제 해결책은?
    * 문서화로 해결은 진행한다 서술 되어 있지만, 관리 주체는 누가 할 것이며 관리 또한 제대로 할 수 있는 환경인가? 

3. 서비스 메시란?

4. 에지 서버가 lb랑 차이점은?
    * 로드 밸런싱 : 서버로 접근하는 부하를 분산
    * 리버스 프록시(에지 서버 방식) : 서버로 접근하는 클라이언트로부터의 보안을 위한 서버
    
5. 로그를 조회하기 위해서 다이어그램을 참조하면, 공조 마이크로 서비스 간 모든 컴포넌트를 조회하는데 성능 상 문제가 되진 않는가? 분산 처리를 위해 분리를 하였는데 결과적으로 모든 컴포넌트를 로그 조회할 때마다 조회를 할 일은 없을 거 같은데 어떤 처리 방식인지 궁금하다.

6. 제어 루프를 통해 마이크로 서비스의 상태를 조회하고 변경하는 작업을 하는데, 에지 서버가 동작 하지 않게 되면 어찌 되는가?
    * 제어 루프는 에지 서버와 별개로 내부에서 호출 진행한다.
    
7. SPRING-CONFIG를 통한 구성 중앙화를 하게 되면 환경 변수 노출에 대한 위험성은 없는가? 서버가 죽으면 모든 서비스가 중단되지 않는가?
    * 실제 CONFIG 서버는 반드시 고가용성을 보장해야 한다.
    * 보안 인증도 필수 (webhook 등 다양한 방법으로 처리 중)
    
8. 보유한 데이터와 다른 마이크로서비스가 관리하는 데이터의 불일치성.. 어떻게 해결할 것인가?
    * 현재도 발생하고 있지만 불가피하게 하나의 테이블에 대해서 여러 서비스가 물고 있는 것을 다 떼어내야 한다. 각각의 데이터에 대해서는 각 서비스에서만 CUD를 한다.
    
---
### * 느낀점
좋은 점이 많고 장점이 명확하게 존재하나, 그만큼 단점도 많이 따라온다.
관리해야 할 인스턴스 증가, 책에서 언급하는 컴포넌트에 대해 관리하고
오토 스케일링할 대책에 대해서 자세히 언급되어 있지만,
관리 주체 서버인 에지 서버, 제어 루트, 환경 서버 등에 대해선 언급이 없다.
해당 서버들이 죽게 되면 다른 서비스 전체가 영향 받으므로 고가용성 보장할 수 있는 방법이 필요할 듯 싶다.
해당 내용에 대해 공부하고 실질적인 프로젝트에 적용하기엔 많은 어려움이
있을 것이나 적용하게 되면 유용하게 사용할 수 있어 보인다. 👍
